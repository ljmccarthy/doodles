/*
 * Tetrominoes
 *
 * Luke McCarthy 2023-09-24
 */

#include <stdint.h>
#include <stdio.h>

/*
 *  I
 *  .... 0000 0    ..#. 0010 2    .... 0000 0    .#.. 0100 4
 *  #### 1111 F    ..#. 0010 2    .... 0000 0    .#.. 0100 4
 *  .... 0000 0    ..#. 0010 2    #### 1111 F    .#.. 0100 4
 *  .... 0000 0    ..#. 0010 2    .... 0000 0    .#.. 0100 4
 *
 *  J
 *  #... 1000 8    .##. 0110 6    .... 0000 0    .#.. 0100 4
 *  ###. 1110 E    .#.. 0100 4    ###. 1110 E    .#.. 0100 4
 *  .... 0000 0    .#.. 0100 4    ..#. 0010 2    ##.. 1100 C
 *  .... 0000 0    .... 0000 0    .... 0000 0    .... 0000 0
 *
 *  L
 *  ..#. 0010 2    .#.. 0100 4    .... 0000 0    ##.. 1100 C
 *  ###. 1110 E    .#.. 0100 4    ###. 1110 E    .#.. 0100 4
 *  .... 0000 0    .##. 0110 6    #... 1000 8    .#.. 0100 4
 *  .... 0000 0    .... 0000 0    .... 0000 0    .... 0000 0
 *
 *  O
 *  .... 0000 0    .... 0000 0    .... 0000 0    .... 0000 0
 *  .##. 0110 6    .##. 0110 6    .##. 0110 6    .##. 0110 6
 *  .##. 0110 6    .##. 0110 6    .##. 0110 6    .##. 0110 6
 *  .... 0000 0    .... 0000 0    .... 0000 0    .... 0000 0
 *
 *  S
 *  .##. 0110 6    .#.. 0100 4    .... 0000 0    #... 1000 8
 *  ##.. 1100 C    .##. 0110 6    .##. 0110 6    ##.. 1100 C
 *  .... 0000 0    ..#. 0010 2    ##.. 1100 C    .#.. 0100 4
 *  .... 0000 0    .... 0000 0    .... 0000 0    .... 0000 0
 *
 *  T
 *  .#.. 0100 4    .#.. 0100 4    .... 0000 0    .#.. 0100 4
 *  ###. 1110 E    .##. 0110 6    ###. 1110 E    ##.. 1100 C
 *  .... 0000 0    .#.. 0100 4    .#.. 0100 4    .#.. 0100 4
 *  .... 0000 0    .... 0000 0    .... 0000 0    .... 0000 0
 *
 *  Z
 *  ##.. 1100 C    ..#. 0010 2    .... 0000 0    .#.. 0100 4
 *  .##. 0110 6    .##. 0110 6    ##.. 1100 C    ##.. 1100 C
 *  .... 0000 0    .#.. 0100 4    .##. 0110 6    #... 1000 8
 *  .... 0000 0    .... 0000 0    .... 0000 0    .... 0000 0
 */
static uint16_t const tetrominoes[7][4] = {
    {0x0F00, 0x2222, 0x00F0, 0x4444}, // I
    {0x8E00, 0x6440, 0x0E20, 0x44C0}, // J
    {0x2E00, 0x4460, 0x0E80, 0xC440}, // L
    {0x0660, 0x0660, 0x0660, 0x0660}, // O
    {0x6C00, 0x4620, 0x06C0, 0x8C40}, // S
    {0x4E00, 0x4640, 0x0E40, 0x4C40}, // T
    {0xC600, 0x2640, 0x0C60, 0x4C80}  // Z
};

static char const piece_name[7] = "IJLOSTZ";

int main()
{
    for (int piece = 0; piece < 7; piece++) {
        printf("\n%c\n", piece_name[piece]);
        for (int row = 0; row < 4; row++) {
            for (int rotation = 0; rotation < 4; rotation++) {
                uint16_t row_bits = tetrominoes[piece][rotation] >> ((3 - row) * 4);
                printf("    %s%s%s%s",
                    (row_bits & 8) ? "██" : "░░",
                    (row_bits & 4) ? "██" : "░░",
                    (row_bits & 2) ? "██" : "░░",
                    (row_bits & 1) ? "██" : "░░");
            }
            putchar('\n');
        }
    }
    putchar('\n');
    return 0;
}
